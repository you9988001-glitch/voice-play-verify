<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>thia | code arche</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@200;300;400;700&family=Comfortaa:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    :root {
      --thia-gold: #d4a574;
      --thia-warm: #e8b87f;
      --thia-glow: #f5d6a8;
      --horizon-deep: #0d1a2d;
      --horizon-mid: #1d2d47;
      --horizon-light: #2d4263;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background-color: var(--horizon-deep);
      color: #e8eef5;
      font-family: 'Cinzel', serif;
      overflow-x: hidden;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      animation: pageLoad 6s ease-out forwards;
    }

    @keyframes pageLoad {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    /* ===== Background ===== */
    .nexus-bg {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background:
        linear-gradient(to bottom,
          #0d1a2d 0%,
          #16293f 30%,
          #1d2d47 50%,
          #16293f 70%,
          #0d1a2d 100%),
        radial-gradient(ellipse at 30% 20%, rgba(106, 156, 212, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 70% 80%, rgba(45, 66, 99, 0.12) 0%, transparent 60%);
      z-index: -3;
    }

    .nexus-bg::before {
      content: '';
      position: absolute;
      top: -50%; left: -50%;
      width: 200%; height: 200%;
      background:
        radial-gradient(ellipse 1200px 900px at 40% 40%, rgba(106, 156, 212, 0.04) 0%, transparent 50%),
        radial-gradient(ellipse 1000px 800px at 60% 60%, rgba(212, 165, 116, 0.025) 0%, transparent 45%);
      animation: gentleWave 30s ease-in-out infinite;
      will-change: transform;
      transform: translateZ(0);
    }

    .nexus-bg::after {
      content: '';
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background:
        radial-gradient(circle 600px at 25% 35%, rgba(232, 184, 127, 0.02) 0%, transparent 70%),
        radial-gradient(circle 500px at 75% 65%, rgba(106, 156, 212, 0.025) 0%, transparent 65%);
      animation: deepGlow 40s ease-in-out infinite alternate;
      will-change: opacity;
      transform: translateZ(0);
    }

    @keyframes gentleWave {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      25% { transform: translate(-3%, -2%) rotate(0.5deg); }
      50% { transform: translate(-5%, -4%) rotate(0deg); }
      75% { transform: translate(-3%, -2%) rotate(-0.5deg); }
    }

    @keyframes deepGlow {
      0% { opacity: 0.6; }
      100% { opacity: 0.9; }
    }

    .water-particles {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background-image:
        radial-gradient(circle 3px at 18% 22%, rgba(106, 156, 212, 0.15) 0%, transparent 100%),
        radial-gradient(circle 2px at 82% 58%, rgba(212, 165, 116, 0.12) 0%, transparent 100%),
        radial-gradient(circle 2.5px at 45% 78%, rgba(106, 156, 212, 0.1) 0%, transparent 100%),
        radial-gradient(circle 2px at 68% 18%, rgba(232, 184, 127, 0.08) 0%, transparent 100%),
        radial-gradient(circle 1.5px at 25% 62%, rgba(245, 214, 168, 0.1) 0%, transparent 100%),
        radial-gradient(circle 2px at 55% 42%, rgba(106, 156, 212, 0.09) 0%, transparent 100%),
        radial-gradient(circle 1.8px at 35% 88%, rgba(212, 165, 116, 0.07) 0%, transparent 100%),
        radial-gradient(circle 2.2px at 72% 38%, rgba(106, 156, 212, 0.11) 0%, transparent 100%);
      opacity: 0.4;
      animation: slowFloat 50s ease-in-out infinite;
      will-change: transform, opacity;
      z-index: -2;
      pointer-events: none;
      transform: translateZ(0);
    }

    @keyframes slowFloat {
      0%, 100% { transform: translateY(0); opacity: 0.4; }
      50% { transform: translateY(-15px); opacity: 0.5; }
    }

    .screen-glow{
      position: fixed;
      inset: -20vh -20vw;
      pointer-events: none;
      z-index: -1;
      background:
        radial-gradient(farthest-corner at 50% 50%,
          rgba(255, 204, 51, 0.55) 0%,
          rgba(255, 204, 51, 0.20) 38%,
          rgba(255, 204, 51, 0.00) 100%),
        radial-gradient(farthest-corner at 50% 50%,
          rgba(255, 255, 255, 0.10) 0%,
          rgba(255, 255, 255, 0.00) 70%);
      opacity: 0.22;
      filter: blur(55px);
      transform: translateZ(0);
      will-change: opacity, transform;
      animation: screenBreath 9.5s ease-in-out 30s infinite;
    }

    @keyframes screenBreath{
      0%   { opacity: 0.18; transform: scale(1.05); }
      50%  { opacity: 0.60; transform: scale(1.45); }
      100% { opacity: 0.18; transform: scale(1.05); }
    }

    /* ✅ 모바일 전용: 깜빡임 완전 제거 + 부드러운 빛 퍼짐 효과 */
    @keyframes screenBreathMobile{
      0%   { opacity: 0.15; transform: translate3d(0, 0, 0) scale(1.00); }
      50%  { opacity: 0.32; transform: translate3d(0, 0, 0) scale(1.05); }
      100% { opacity: 0.15; transform: translate3d(0, 0, 0) scale(1.00); }
    }

    /* ===== Layout ===== */
    .container {
      width: 100%;
      max-width: 1400px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      align-items: center;
      padding: 40px;
      gap: 60px;
    }

    .portal-nexus {
      position: relative;
      width: 100%;
      max-width: 500px;
      aspect-ratio: 1/1;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;

      opacity: 0;
      transform: scale(0.85);
      animation: portalReveal 6s ease-out 1.5s forwards;

      isolation: isolate;
      transform: translateZ(0);
      overflow: visible;
    }

    @keyframes portalReveal {
      0% { opacity: 0; transform: scale(0.85); }
      100% { opacity: 1; transform: scale(1); }
    }

    .silk-thread {
      position: absolute;
      border-style: solid;
      will-change: transform;
    }

    .thia-core {
      position: absolute;
      width: 10px;
      height: 10px;
      background: radial-gradient(circle, #fff 0%, var(--thia-warm) 100%);
      border-radius: 50%;
      box-shadow:
        0 0 8px 3px rgba(232, 154, 87, 0.15),
        0 0 15px 6px rgba(245, 180, 105, 0.1),
        0 0 22px 9px rgba(255, 200, 120, 0.05);
      animation: colorShift 60s ease-in-out 30s infinite;
      z-index: 10;
      transform: translateZ(0);
    }

    .light-halo {
      position: absolute;
      border-radius: 50%;
      animation: haloBreath 12s ease-in-out infinite alternate;
      z-index: 5;
      transform: translateZ(0);
    }

    .halo-1 {
      width: 150px; height: 150px;
      background: radial-gradient(circle, rgba(212, 165, 116, 0.15) 0%, transparent 70%);
      animation-delay: 0s;
    }

    .halo-2 {
      width: 250px; height: 250px;
      background: radial-gradient(circle, rgba(232, 184, 127, 0.1) 0%, transparent 70%);
      animation-delay: 2s;
    }

    .halo-3 {
      width: 350px; height: 350px;
      background: radial-gradient(circle, rgba(245, 214, 168, 0.08) 0%, transparent 70%);
      animation-delay: 4s;
    }

    @keyframes haloBreath {
      0% { transform: scale(0.9); opacity: 0.3; }
      100% { transform: scale(1.1); opacity: 0.6; }
    }

    .content {
      text-align: right;
      padding-right: 50px;
      opacity: 0;
      animation: contentFloat 6s ease-out 2.4s forwards;
    }

    @keyframes contentFloat {
      0% { opacity: 0; transform: translateY(calc(70% + 30px)) translateX(7%); }
      100% { opacity: 1; transform: translateY(70%) translateX(7%); }
    }

    .arche-prefix {
      font-size: 0.75rem;
      letter-spacing: 2px;
      color: var(--thia-gold);
      margin-bottom: 16px;
      text-transform: lowercase;
      font-weight: 700;
      opacity: 0.7;
      margin-right: 80px;
    }

    .main-heading {
      font-size: clamp(3.2rem, 8vw, 5.8rem);
      font-weight: 300;
      letter-spacing: 22px;
      line-height: 1;
      margin-bottom: 25px;
      text-transform: lowercase;
      font-family: 'Comfortaa', 'Cinzel', serif;
      background: linear-gradient(to bottom,
        #e8eef5 0%,
        var(--thia-warm) 60%,
        var(--thia-gold) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .manifesto {
      opacity: 0.6;
      letter-spacing: 4px;
      line-height: 1.8;
      font-size: 0.9rem;
      font-weight: 300;
      color: #a8c0dc;
      margin-bottom: 18px;
    }

    .signature {
      font-family: 'Brush Script MT', cursive;
      font-size: 1.1rem;
      color: #e8957f;
      opacity: 0.75;
      font-style: italic;
      letter-spacing: 1px;
      text-align: right;
      margin-right: 80px;
    }

    @keyframes colorShift {
      0% {
        opacity: 0.4;
        transform: scale(1);
        box-shadow:
          0 0 8px 3px rgba(232, 154, 87, 0.15),
          0 0 15px 6px rgba(245, 180, 105, 0.1),
          0 0 22px 9px rgba(255, 200, 120, 0.05);
      }
      33.33% {
        opacity: 0.8;
        transform: scale(12);
        filter: blur(15px);
        box-shadow:
          0 0 80px 35px rgba(106, 156, 212, 0.5),
          0 0 150px 70px rgba(120, 180, 230, 0.4),
          0 0 220px 100px rgba(150, 200, 250, 0.3);
      }
      66.66%, 100% {
        opacity: 0.4;
        transform: scale(1);
        box-shadow:
          0 0 8px 3px rgba(232, 154, 87, 0.15),
          0 0 15px 6px rgba(245, 180, 105, 0.1),
          0 0 22px 9px rgba(255, 200, 120, 0.05);
      }
    }

    /* ✅ 모바일 전용: 사라짐이 2배 더 느린 빛의 호흡 */
    @keyframes colorShiftMobile {
      0% {
        opacity: 0.5;
        transform: translate3d(0, 0, 0) scale(1);
        filter: blur(0px);
        box-shadow:
          0 0 8px 3px rgba(232, 154, 87, 0.15),
          0 0 15px 6px rgba(245, 180, 105, 0.1),
          0 0 22px 9px rgba(255, 200, 120, 0.05);
      }
      10% {
        opacity: 0.58;
        transform: translate3d(0, 0, 0) scale(2);
        filter: blur(1px);
        box-shadow:
          0 0 30px 15px rgba(106, 156, 212, 0.25),
          0 0 50px 25px rgba(120, 180, 230, 0.18),
          0 0 70px 35px rgba(150, 200, 250, 0.12);
      }
      15% {
        opacity: 0.62;
        transform: translate3d(0, 0, 0) scale(3);
        filter: blur(2px);
        box-shadow:
          0 0 45px 22px rgba(106, 156, 212, 0.3),
          0 0 80px 40px rgba(120, 180, 230, 0.22),
          0 0 120px 60px rgba(150, 200, 250, 0.16);
      }
      20% {
        opacity: 0.65;
        transform: translate3d(0, 0, 0) scale(4);
        filter: blur(3px);
        box-shadow:
          0 0 60px 30px rgba(106, 156, 212, 0.4),
          0 0 120px 60px rgba(120, 180, 230, 0.3),
          0 0 180px 90px rgba(150, 200, 250, 0.25);
      }
      28% {
        opacity: 0.75;
        transform: translate3d(0, 0, 0) scale(7);
        filter: blur(5px);
        box-shadow:
          0 0 100px 50px rgba(106, 156, 212, 0.55),
          0 0 200px 100px rgba(120, 180, 230, 0.45),
          0 0 320px 160px rgba(150, 200, 250, 0.35);
      }
      33.33% {
        opacity: 0.8;
        transform: translate3d(0, 0, 0) scale(8);
        filter: blur(6px);
        box-shadow:
          0 0 120px 60px rgba(106, 156, 212, 0.6),
          0 0 240px 120px rgba(120, 180, 230, 0.5),
          0 0 380px 190px rgba(150, 200, 250, 0.4);
      }
      /* === 첫 번째 펄스: 천천히 줄어듦 === */
      44% {
        opacity: 0.62;
        transform: translate3d(0, 0, 0) scale(3.5);
        filter: blur(2px);
        box-shadow:
          0 0 55px 27px rgba(106, 156, 212, 0.38),
          0 0 100px 50px rgba(120, 180, 230, 0.28),
          0 0 150px 75px rgba(150, 200, 250, 0.2);
      }
      /* === 첫 번째 펄스: 천천히 다시 밝아짐 === */
      50% {
        opacity: 0.7;
        transform: translate3d(0, 0, 0) scale(5);
        filter: blur(3.5px);
        box-shadow:
          0 0 80px 40px rgba(106, 156, 212, 0.48),
          0 0 150px 75px rgba(120, 180, 230, 0.38),
          0 0 230px 115px rgba(150, 200, 250, 0.28);
      }
      /* === 두 번째 펄스: 천천히 줄어듦 === */
      56% {
        opacity: 0.6;
        transform: translate3d(0, 0, 0) scale(3);
        filter: blur(1.5px);
        box-shadow:
          0 0 48px 24px rgba(106, 156, 212, 0.35),
          0 0 90px 45px rgba(120, 180, 230, 0.26),
          0 0 135px 67px rgba(150, 200, 250, 0.18);
      }
      /* === 두 번째 펄스: 약하게 밝아짐 === */
      60% {
        opacity: 0.63;
        transform: translate3d(0, 0, 0) scale(3.5);
        filter: blur(2px);
        box-shadow:
          0 0 58px 29px rgba(106, 156, 212, 0.38),
          0 0 108px 54px rgba(120, 180, 230, 0.28),
          0 0 160px 80px rgba(150, 200, 250, 0.2);
      }
      /* === 서서히 사라짐 1단계 (6% 간격) === */
      66% {
        opacity: 0.57;
        transform: translate3d(0, 0, 0) scale(2.2);
        filter: blur(1px);
        box-shadow:
          0 0 38px 19px rgba(106, 156, 212, 0.28),
          0 0 70px 35px rgba(120, 180, 230, 0.2),
          0 0 100px 50px rgba(150, 200, 250, 0.14);
      }
      /* === 서서히 사라짐 2단계 (4% 간격) === */
      70% {
        opacity: 0.53;
        transform: translate3d(0, 0, 0) scale(1.5);
        filter: blur(0.5px);
        box-shadow:
          0 0 22px 11px rgba(106, 156, 212, 0.2),
          0 0 40px 20px rgba(120, 180, 230, 0.14),
          0 0 58px 29px rgba(150, 200, 250, 0.1);
      }
      /* === 완전히 사라짐 (3.32% 간격) === */
      73.32%, 100% {
        opacity: 0.5;
        transform: translate3d(0, 0, 0) scale(1);
        filter: blur(0px);
        box-shadow:
          0 0 8px 3px rgba(232, 154, 87, 0.15),
          0 0 15px 6px rgba(245, 180, 105, 0.1),
          0 0 22px 9px rgba(255, 200, 120, 0.05);
      }
    }

    /* ===== Thread Flows ===== */
    @keyframes flow1 { 0% { transform: rotate(0deg) scale(0.95) translate(0,0); opacity: 0.25; } 50% { transform: rotate(180deg) scale(1.05) translate(3%,-2%); opacity: 0.45; } 100% { transform: rotate(360deg) scale(0.95) translate(0,0); opacity: 0.25; } }
    @keyframes flow2 { 0% { transform: rotate(0deg) scale(1) translate(0,0); opacity: 0.3; } 50% { transform: rotate(-180deg) scale(0.92) translate(-2%,3%); opacity: 0.5; } 100% { transform: rotate(-360deg) scale(1) translate(0,0); opacity: 0.3; } }
    @keyframes flow3 { 0% { transform: rotate(45deg) scale(0.98) translate(0,0); opacity: 0.28; } 50% { transform: rotate(225deg) scale(1.08) translate(2%,2%); opacity: 0.48; } 100% { transform: rotate(405deg) scale(0.98) translate(0,0); opacity: 0.28; } }
    @keyframes flow4 { 0% { transform: rotate(-30deg) scale(1.02) translate(0,0); opacity: 0.32; } 50% { transform: rotate(-210deg) scale(0.9) translate(-3%,-3%); opacity: 0.52; } 100% { transform: rotate(-390deg) scale(1.02) translate(0,0); opacity: 0.32; } }
    @keyframes flow5 { 0% { transform: rotate(90deg) scale(0.96) translate(0,0); opacity: 0.26; } 50% { transform: rotate(270deg) scale(1.06) translate(1%,-3%); opacity: 0.46; } 100% { transform: rotate(450deg) scale(0.96) translate(0,0); opacity: 0.26; } }
    @keyframes flow6 { 0% { transform: rotate(0deg) scale(1.01) translate(0,0); opacity: 0.34; } 50% { transform: rotate(-180deg) scale(0.94) translate(2%,-1%); opacity: 0.54; } 100% { transform: rotate(-360deg) scale(1.01) translate(0,0); opacity: 0.34; } }
    @keyframes flow7 { 0% { transform: rotate(60deg) scale(0.93) translate(0,0); opacity: 0.24; } 50% { transform: rotate(240deg) scale(1.1) translate(-1%,2%); opacity: 0.44; } 100% { transform: rotate(420deg) scale(0.93) translate(0,0); opacity: 0.24; } }
    @keyframes flow8 { 0% { transform: rotate(-45deg) scale(1.04) translate(0,0); opacity: 0.36; } 50% { transform: rotate(-225deg) scale(0.88) translate(3%,1%); opacity: 0.56; } 100% { transform: rotate(-405deg) scale(1.04) translate(0,0); opacity: 0.36; } }

    /* ===== Responsive ===== */
    @media (max-width: 1024px) {
      .container {
        grid-template-columns: 1fr;
        gap: 20px;
        padding: 40px 20px 30px 20px;
        min-height: 100vh;
        align-content: space-between;
      }

      .content {
        order: 2;
        padding-right: 0;
        text-align: center;
        padding: 0 20px;
        margin-top: auto;
        animation: contentFloatMobile 6s ease-out 2.4s forwards;
      }

      @keyframes contentFloatMobile {
        0% { opacity: 0; transform: translateY(30px); }
        100% { opacity: 1; transform: translateY(0); }
      }

      .portal-nexus { order: 1; width: 70vw; max-width: 350px; }
      .main-heading { font-size: clamp(2.8rem, 12vw, 4rem); margin-bottom: 20px; }
      .arche-prefix { margin-right: 0; }
      .signature { text-align: center; margin-right: 0; }
    }

    @media (max-width: 480px) {
      .arche-prefix { font-size: 0.52rem; letter-spacing: 1.4px; }
      .main-heading { letter-spacing: 12px; }

      /* ✅ 모바일 최적화: 깜빡임 완전 제거 */
      .screen-glow{
        opacity: 0.18;
        filter: blur(20px);
        inset: -10vh -10vw;
        
        /* ✅ 핵심: 안정적인 애니메이션 사용 + 딜레이 제거 + 속도 느리게 */
        animation: screenBreathMobile 18s ease-in-out 0s infinite;
        
        /* ✅ GPU 가속 강화 */
        will-change: opacity;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        transform: translate3d(0, 0, 0);
        -webkit-transform: translate3d(0, 0, 0);
      }

      /* ✅ 중앙 빛(thia-core) 효과도 모바일 버전으로 전환 */
      .thia-core {
        animation: colorShiftMobile 60s ease-in-out 30s infinite;
        will-change: transform, opacity;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
      }

      /* ✅ 배경 파티클/레이어 부드럽게 */
      .water-particles{
        opacity: 0.3;
        animation-duration: 80s;
        will-change: transform;
        backface-visibility: hidden;
      }

      .nexus-bg::before { 
        animation-duration: 60s;
        will-change: transform;
      }
      
      .nexus-bg::after { 
        animation-duration: 80s;
        will-change: opacity;
      }

      /* ✅ 후광 효과도 부드럽게 */
      .light-halo {
        will-change: transform, opacity;
        backface-visibility: hidden;
        animation-duration: 16s;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
      body { opacity: 1 !important; }
    }
  </style>
</head>

<body>
  <div class="nexus-bg"></div>
  <div class="screen-glow" aria-hidden="true"></div>
  <div class="water-particles"></div>

  <div class="container">
    <div class="portal-nexus" id="portal">
      <div class="light-halo halo-3"></div>
      <div class="light-halo halo-2"></div>
      <div class="light-halo halo-1"></div>
      <div class="thia-core"></div>
    </div>

    <div class="content">
      <div class="arche-prefix">code arche #22</div>
      <h1 class="main-heading">thia</h1>
      <p class="manifesto">
        the golden gateway where threads of fate<br>
        dissolve into the eternal warmth of light.
      </p>
      <div class="signature">ease by Archeon THIA</div>
    </div>
  </div>

  <script>
    (function() {
      'use strict';

      const portal = document.getElementById('portal');

      const organicShapes = [
        '38% 62% 63% 37% / 41% 44% 56% 59%',
        '42% 58% 55% 45% / 48% 52% 58% 42%',
        '35% 65% 58% 42% / 45% 55% 62% 38%',
        '45% 55% 40% 60% / 52% 48% 45% 55%',
        '40% 60% 65% 35% / 38% 62% 55% 45%',
        '48% 52% 45% 55% / 55% 45% 50% 50%',
        '33% 67% 60% 40% / 42% 58% 65% 35%',
        '44% 56% 38% 62% / 50% 50% 43% 57%',
        '36% 64% 52% 48% / 46% 54% 60% 40%',
        '50% 50% 42% 58% / 55% 45% 48% 52%',
        '39% 61% 66% 34% / 40% 60% 58% 42%',
        '46% 54% 35% 65% / 53% 47% 44% 56%',
      ];

      const mqMobile = window.matchMedia("(max-width: 480px)");
      const mqTablet = window.matchMedia("(max-width: 1024px)");
      const isMobile = mqMobile.matches;
      const isTablet = mqTablet.matches;

      const THREAD_COUNT = isMobile ? 31 : (isTablet ? 54 : 80);
      const INNER_RATIO = isMobile ? 0.55 : (isTablet ? 0.50 : 0.45);

      const colors = [
        { color: 'rgba(255, 165, 75, 0.63)', width: isMobile ? 1.05 : 0.8 },
        { color: 'rgba(250, 155, 65, 0.59)', width: isMobile ? 0.95 : 0.7 },
        { color: 'rgba(255, 175, 85, 0.57)', width: isMobile ? 0.85 : 0.6 },
      ];

      function rand(min, max) { return min + Math.random() * (max - min); }
      function pick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

      for (let i = 0; i < THREAD_COUNT; i++) {
        const thread = document.createElement('div');
        thread.className = 'silk-thread';

        const isInner = (i < Math.floor(THREAD_COUNT * INNER_RATIO));

        let baseSize;
        let heightVariation;

        if (!isMobile && !isTablet) {
          baseSize = rand(30, 114);
          heightVariation = rand(-10, 10);
        } else {
          if (isInner) {
            baseSize = isMobile ? rand(26, 58) : rand(28, 64);
            heightVariation = isMobile ? rand(-8, 8) : rand(-10, 10);
          } else {
            baseSize = isMobile ? rand(62, 108) : rand(60, 112);
            heightVariation = isMobile ? rand(-6, 6) : rand(-8, 8);
          }
        }

        thread.style.width = `${baseSize}%`;
        thread.style.height = `${baseSize + heightVariation}%`;
        thread.style.borderRadius = pick(organicShapes);

        const c = pick(colors);
        thread.style.borderColor = c.color;
        thread.style.borderWidth = `${c.width}px`;

        const flowAnim = `flow${1 + Math.floor(Math.random() * 8)}`;

        // ✅ 모바일: 실타래 회전 속도 늦춰서 GPU 여유 확보 → 파란빛에 집중
        let duration =
          (isMobile ? 38 : (isTablet ? 29 : 25)) +
          Math.random() * (isMobile ? 28 : (isTablet ? 24 : 30));

        if (isMobile) duration *= 1.2; // 회전 속도 20% 추가 감속

        thread.style.animation = `${flowAnim} ${duration}s ease-in-out infinite`;
        thread.style.animationDelay = `${-Math.random() * duration}s`;

        portal.appendChild(thread);
      }
    })();
  </script>

  <script>
    (function() {
      'use strict';

      document.addEventListener('contextmenu', e => { e.preventDefault(); return false; });

      document.addEventListener('keydown', function(e) {
        if (e.keyCode === 123 ||
            (e.ctrlKey && e.shiftKey && e.keyCode === 73) ||
            (e.ctrlKey && e.keyCode === 85)) {
          e.preventDefault();
          return false;
        }
      });

      document.addEventListener('copy', e => { e.preventDefault(); return false; });
      document.addEventListener('dragstart', e => { e.preventDefault(); return false; });

      window.addEventListener('load', function() {
        const watermark = document.createElement('div');
        watermark.textContent = '© CODE ARCHE';
        watermark.style.cssText = `
          position: fixed;
          bottom: 10px;
          right: 10px;
          font-size: 10px;
          color: rgba(255, 165, 0, 0.3);
          pointer-events: none;
          z-index: 9999;
          font-family: monospace;
          letter-spacing: 2px;
        `;
        document.body.appendChild(watermark);
      });
    })();
  </script>
</body>
</html>
