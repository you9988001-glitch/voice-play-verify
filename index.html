<!doctype html>
<html lang="en">
<head><!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5KJZ6B9F');</script>
<!-- End Google Tag Manager -->

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>code arche49-Pass | CODE ARCHE</title>

  <!-- Pi SDK -->
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>

  <style>
    :root{
      --pi-gold:#ffa500;
      --arche-dark:#0f0f0f;
      --arche-white:#e0e0e0;
      --card-bg: rgba(20,20,20,0.92);
      --border: rgba(255,165,0,0.35);
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:Georgia,serif;scroll-behavior:smooth}
    body{background:var(--arche-dark);color:var(--arche-white);line-height:1.8;overflow-x:hidden}
    .bg-overlay{
      position:fixed;inset:0;
      background:radial-gradient(circle at center,#1e0b36 0%,#0f0f0f 100%);
      z-index:-1;
    }
    .container{
      max-width:900px;
      margin:0 auto;
      padding:80px 20px;
      opacity:0;
      animation:fadeIn 9s ease-out 2s forwards;
    }
    
    @keyframes fadeIn{
      from{opacity:0;}
      to{opacity:1;}
    }
    .header{
      text-align:center;
      margin-bottom:80px;
      opacity:0;
      animation:fadeIn 9s ease-out 2s forwards;
    }
    .project-title{color:var(--pi-gold);font-size:1rem;letter-spacing:6px;text-transform:uppercase;margin-bottom:20px;opacity:.85}
    .main-project-name{font-size:3.4rem;font-weight:900;color:#fff;text-shadow:0 0 25px rgba(255,165,0,.25);margin-bottom:40px}
    .divider{width:60px;height:1px;background:var(--pi-gold);margin:30px auto;opacity:.55}
    .arche-num{color:var(--pi-gold);font-size:1.2rem;font-weight:bold;margin-bottom:10px}
    .sub-name{font-size:3rem;font-weight:800;margin-bottom:14px}
    .tagline{font-style:italic;opacity:.65}

    .philosophy{
      margin-bottom:80px;
      text-align:center;
      opacity:0;
      animation:fadeIn 9s ease-out 3s forwards;
    }
    .philosophy h2{color:var(--pi-gold);font-size:2rem;margin-bottom:34px;font-weight:normal;letter-spacing:2px}
    .philosophy p{font-size:1.12rem;color:#cfcfcf;margin:0 auto 26px;max-width:780px}

    .conditions{
      background:rgba(24,24,24,.45);
      padding:50px;border-radius:12px;margin-bottom:70px;
      border:1px solid rgba(255,255,255,.06);
    }
    .conditions h3{text-align:center;margin-bottom:34px;color:var(--pi-gold);font-size:1.65rem;font-weight:normal;letter-spacing:1px}
    .condition-list{list-style:none}
    .condition-list li{margin-bottom:22px;display:flex;align-items:flex-start;font-size:1.05rem;color:#b8b8b8}
    .condition-list li::before{content:"â—ˆ";color:var(--pi-gold);margin-right:14px;opacity:.9}

    .center{
      text-align:center;
      margin:0 auto 48px;
      opacity:0;
      animation:fadeIn 9s ease-out 4s forwards;
    }
    .center p{margin-bottom:34px;opacity:.75}

    .cta-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      text-align:center;

      padding:18px 56px;
      background:transparent;
      color:var(--pi-gold);
      text-decoration:none;
      font-weight:bold;
      border:1px solid var(--pi-gold);
      transition:.35s;

      font-size: clamp(.98rem, 3.6vw, 1.05rem);
      letter-spacing: clamp(1px, .8vw, 3px);
      line-height: 1.15;

      text-transform:uppercase;
      cursor:pointer;
      border-radius:999px;

      white-space: normal;
      word-break: keep-all;
      min-height: 54px;
    }
    .cta-btn:hover{
      background:var(--pi-gold);
      color:#000;
      box-shadow:0 0 40px rgba(255,165,0,.22);
    }
    .cta-btn[disabled]{
      opacity:.45;
      cursor:not-allowed;
      box-shadow:none;
    }

    #apply-section{
      display:none;
      margin-top:50px;
      padding:54px 38px;
      background:var(--card-bg);
      border:1px solid var(--border);
      border-radius:16px;
    }
    #apply-section h3{
      color:var(--pi-gold);
      margin-bottom:28px;
      text-align:center;
      font-size:1.7rem;
      font-weight:normal;
      letter-spacing:1px;
    }
    .form-group{margin-bottom:22px;text-align:left}
    .form-group label{
      display:block;margin-bottom:10px;
      color:var(--pi-gold);
      font-size:.78rem;
      letter-spacing:2px;
      text-transform:uppercase;
      opacity:.95;
    }
    .form-group input,.form-group textarea{
      width:100%;
      padding:14px 14px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
      color:#fff;
      border-radius:10px;
      outline:none;
      font-size:1rem;
    }
    .form-group textarea{min-height:150px;resize:vertical}

    .row{display:flex;gap:14px;flex-wrap:wrap}
    .row .cta-btn{flex:1;min-width:240px}

    .payment-box{
      margin-top:20px;
      padding:18px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(255,255,255,.03);
      text-align:center;
    }
    .payment-title{
      color:#fff;
      font-weight:700;
      letter-spacing:1px;
      margin-bottom:8px;
    }
    .payment-sub{
      color:#cfcfcf;
      font-size:.98rem;
      opacity:.85;
      margin-bottom:14px;
    }
    #payBtn{width:100%}
    .log{
      margin-top:14px;
      font-size:13px;
      white-space:pre-wrap;
      background:rgba(0,0,0,.28);
      padding:12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.08);
      color:#eaeaea;
      text-align:left;
    }

    #success-banner{
      display:none;
      margin-top:18px;
      padding:14px 16px;
      border-radius:12px;
      border:1px solid rgba(255,165,0,.35);
      background:rgba(255,165,0,.10);
      color:#fff;
      text-align:center;
      letter-spacing:1px;
    }

    .gateway-wrap{
      margin-top:18px;
      padding-top:18px;
      border-top:1px solid rgba(255,255,255,.08);
      text-align:center;
    }
    .gateway-sub{
      opacity:.65;
      letter-spacing:2px;
      font-size:.9rem;
      margin-bottom:12px;
    }
    .gateway-btn{
      width:100%;
      border-radius:14px;
      padding:18px 22px;
      border:1px solid rgba(255,165,0,.55);
      background:rgba(255,165,0,.06);
      color:var(--pi-gold);
      letter-spacing:6px;
    }
    .gateway-btn:hover{
      background:rgba(255,165,0,.18);
      box-shadow:0 0 40px rgba(255,165,0,.16);
    }

    footer{text-align:center;padding:90px 0 20px;font-size:.78rem;opacity:.45;letter-spacing:2px}
    a{color:inherit}
  </style>
</head>

<body class="protected-content">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5KJZ6B9F"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

  <div class="bg-overlay"></div>

  <div class="container">
    <header class="header">
      <div class="project-title">Project Name</div>
      <h1 class="main-project-name">code arche49-Pass:<br>Pi Genesis</h1>
      <div class="divider"></div>
      <div class="arche-num">CODE ARCHE #22</div>
      <h2 class="sub-name">THIA</h2>
      <p class="tagline">"The Journey to the Origin of Digital Ecosystem"</p>
    </header>

    <section class="philosophy">
      <h2>Our Philosophy</h2>
      <p>
        We pay our deepest respect to the values of true equality and decentralization pursued by the Pi Network.
        We envision a new digital soil where human life, art, and philosophy coexist beyond a mere collection of technologies.
      </p>
      <p>
        Code Arche represents the 49 pillars to be erected upon that soil.
        We are not seeking mere owners of these domains; we are searching for Guardians who will realize the vision of the Pi ecosystem together.
      </p>
    </section>

    <section class="conditions">
      <h3>The Ritual: Guardian Qualifications</h3>
      <ul class="condition-list">
        <li>Do you deeply understand and respect the core philosophy of the Pi Network?</li>
        <li>Are you prepared to add artistic and philosophical value to the Pi ecosystem through this domain?</li>
        <li>Do you pledge a substantial contribution to ecosystem activation rather than mere speculation?</li>
        <li>Will you join the Code Arche project as an integral member of the digital community?</li>
      </ul>
    </section>

    <div class="center">
      <p>If you resonate with these values, share your vision with us.</p>
      <button class="cta-btn" id="openApplyBtn" type="button">Apply for Guardianship</button>
    </div>
   
    <section id="apply-section">
      <h3>Guardian Application</h3>

      <form id="guardianForm">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" name="name" required />
        </div>

        <div class="form-group">
          <label>Email Address</label>
          <input type="email" name="email" required />
        </div>

        <div class="form-group">
          <label>Your Vision & Philosophy</label>
          <textarea name="vision" required placeholder="Describe how you will contribute to the Pi ecosystem..."></textarea>
        </div>

        <div class="payment-box">
          <div class="payment-title">Verification Payment</div>
          <div class="payment-sub">Complete a 0.01 Pi test payment in Pi Browser to finalize verification.</div>

          <button class="cta-btn" id="payBtn" type="button">0.01 Pi Test Payment</button>

          <div id="success-banner">Thank you, future Guardian.</div>
          <div class="log" id="log">Standing byâ€¦</div>
        </div>

        <div class="row" style="margin-top:20px;">
          <button class="cta-btn" type="submit" id="submitBtn" disabled>Submit Application</button>
          <button class="cta-btn" type="button" id="closeApplyBtn">Close</button>
        </div>

        <div class="gateway-wrap">
          <div class="gateway-sub">NEXT GATE</div>
          <button class="cta-btn gateway-btn" type="button" id="goGenesisBtn" disabled>
            ENTER PI GENESIS
          </button>
        </div>
      </form>
    </section>

    <footer>
      <p>&copy; 2026 CODE ARCHE. All Rights Reserved.<br>IN RECOGNITION OF PI NETWORK GENESIS PHILOSOPHY.</p>
    </footer>
  </div>

  <script>
(function() {
  'use strict';

  try {
    if (typeof Pi !== 'undefined') {
      Pi.init({ version: "2.0", sandbox: false });
      
      Pi.authenticate(['username'], function(payment) {
        console.log("[ì²« íŽ˜ì´ì§€] ì¸ì¦ ì„±ê³µ: " + payment.user.username);
        
        try {
          localStorage.setItem('piAuthenticated', 'true');
          localStorage.setItem('piUser', payment.user.username);
          console.log("[ì²« íŽ˜ì´ì§€] localStorage ì €ìž¥ ì™„ë£Œ");
        } catch(e) {
          console.error("ì €ìž¥ ì‹¤íŒ¨:", e);
        }
      }).catch(function(error) {
        console.error("ì¸ì¦ ì‹¤íŒ¨:", error);
      });
    }
  } catch (err) {
    console.log("íŒŒì´ ë¸Œë¼ìš°ì € í™˜ê²½ì´ ì•„ë‹™ë‹ˆë‹¤:", err);
  }

  document.addEventListener('contextmenu', e => e.preventDefault());
  document.addEventListener('keydown', e => {
    if (e.keyCode === 123 || (e.ctrlKey && e.shiftKey && e.keyCode === 73) || (e.ctrlKey && e.keyCode === 85)) {
      e.preventDefault();
    }
  });
  document.addEventListener('copy', e => e.preventDefault());
  document.addEventListener('dragstart', e => e.preventDefault());

  function addWatermark() {
    const watermark = document.createElement('div');
    watermark.innerHTML = 'Â© CODE ARCHE';
    watermark.style.cssText = `
      position: fixed;
      bottom: 10px;
      right: 10px;
      font-size: 10px;
      color: rgba(255, 165, 0, 0.3);
      pointer-events: none;
      z-index: 9999;
      font-family: monospace;
      letter-spacing: 2px;
    `;
    document.body.appendChild(watermark);
  }

  window.addEventListener('load', function() {
    addWatermark();
  });

  window.addEventListener('beforeprint', function(e) {
    e.preventDefault();
    alert('Printing is disabled for this protected content.');
    return false;
  });

  if (window.top !== window.self) {
    window.top.location = window.self.location;
  }

})();
  </script>

  <script>
const applySection = document.getElementById("apply-section");
const openApplyBtn = document.getElementById("openApplyBtn");
const closeApplyBtn = document.getElementById("closeApplyBtn");
const logEl = document.getElementById("log");
const successBanner = document.getElementById("success-banner");
const formEl = document.getElementById("guardianForm");
const submitBtn = document.getElementById("submitBtn");
const goGenesisBtn = document.getElementById("goGenesisBtn");

const setLog = (m) => { logEl.textContent = m; };

function openForm() {
  applySection.style.display = "block";
  applySection.scrollIntoView({ behavior: "smooth", block: "start" });
}
function closeForm() {
  applySection.style.display = "none";
  window.scrollTo({ top: 0, behavior: "smooth" });
}
openApplyBtn.onclick = openForm;
closeApplyBtn.onclick = closeForm;

goGenesisBtn.onclick = () => {
  window.location.href = "/pi-genesis.html";
};

let proofToken = null;
submitBtn.disabled = true;
goGenesisBtn.disabled = true;

function setVerifiedUI() {
  submitBtn.disabled = false;
  successBanner.style.display = "block";
  successBanner.textContent = "Thank you, future Guardian.";
}

Pi.init({ version: "2.0" });

async function ensureAuth() {
  return await Pi.authenticate(["payments"], onIncompletePaymentFound);
}
function onIncompletePaymentFound(payment) {
  setLog("Found incomplete payment. Please cancel it in Pi Wallet then try again.");
}

async function startPayment() {
  try {
    setLog("Pi ì¸ì¦ ì¤‘â€¦");
    await ensureAuth();

    setLog("ê²°ì œ ìƒì„± ì¤‘â€¦");

    Pi.createPayment(
      {
        amount: 0.01,
        memo: "Code Arche Guardian verification",
        metadata: { app: "code-arche" },
      },
      {
        onReadyForServerApproval: async (paymentId) => {
          setLog("ì„œë²„ ìŠ¹ì¸ ìš”ì²­ ì¤‘â€¦");
          const r = await fetch("/api/approve", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ paymentId }),
          });
          const j = await r.json().catch(() => ({}));
          if (!r.ok) throw new Error("approve failed: " + JSON.stringify(j));
          setLog("ì„œë²„ ìŠ¹ì¸ ì™„ë£Œ âœ…");
        },

        onReadyForServerCompletion: async (paymentId, txid) => {
          setLog("ì„œë²„ ì™„ë£Œ ìš”ì²­ ì¤‘â€¦");
          const r = await fetch("/api/complete", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ paymentId, txid }),
          });
          const j = await r.json().catch(() => ({}));
          if (!r.ok) throw new Error("complete failed: " + JSON.stringify(j));

          proofToken = j.proofToken || "ok";
          setVerifiedUI();
          setLog("ê²°ì œ ì™„ë£Œ âœ… ì´ì œ ì œì¶œ ê°€ëŠ¥");
        },

        onCancel: () => setLog("ì‚¬ìš©ìžê°€ ê²°ì œë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤."),
        onError: (e) => setLog("ê²°ì œ ì˜¤ë¥˜: " + (e?.message || e)),
      }
    );
  } catch (e) {
    setLog("ì´ˆê¸°í™” ì‹¤íŒ¨: " + String(e));
  }
}

document.getElementById("payBtn").onclick = startPayment;

formEl.onsubmit = async (e) => {
  e.preventDefault();
  if (!proofToken) {
    setLog("ë¨¼ì € ê²°ì œë¥¼ ì™„ë£Œí•´ì•¼ í•©ë‹ˆë‹¤.");
    return;
  }

  const fd = new FormData(formEl);
  const payload = {
    name: fd.get("name"),
    email: fd.get("email"),
    vision: fd.get("vision"),
    proofToken,
  };

  setLog("ì œì¶œ ì¤‘â€¦");
  const r = await fetch("/api/contact", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload),
  });

  if (r.ok) {
    setLog("ì‹ ì²­ ì™„ë£Œ ðŸŽ‰");

    goGenesisBtn.disabled = false;
    goGenesisBtn.textContent = "ENTER PI GENESIS";

    setTimeout(() => {
      formEl.reset();
      submitBtn.disabled = true;
      proofToken = null;
      successBanner.style.display = "none";
      closeForm();
    }, 3000);
  } else {
    const err = await r.json().catch(() => ({}));
    setLog("ì œì¶œ ì‹¤íŒ¨: " + (err?.error || "unknown"));
  }
};
</script>

</body>
</html>
